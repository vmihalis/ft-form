---
phase: 16-form-migration
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/app/apply/page.tsx
autonomous: false

must_haves:
  truths:
    - "User visiting /apply sees a dynamic form (not the legacy hardcoded form)"
    - "Dynamic form has all 19 original fields across 5 steps"
    - "Form submissions from /apply appear in admin panel under 'Floor Lead Application'"
    - "Field validation (required fields, email format, tagline maxLength) works identically"
  artifacts:
    - path: "src/app/apply/page.tsx"
      provides: "Dynamic form rendering at /apply"
      contains: "DynamicFormPage"
  key_links:
    - from: "src/app/apply/page.tsx"
      to: "DynamicFormPage component"
      via: "import and render with slug='floor-lead'"
      pattern: "DynamicFormPage.*slug.*floor-lead"
---

<objective>
Migrate the legacy /apply form to the dynamic form system by creating a matching form via admin UI and updating the route.

Purpose: Unify all forms under the dynamic form system (MIGRATE-01, MIGRATE-02)
Output: /apply renders dynamic form, legacy form no longer used
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/16-form-migration/16-RESEARCH.md
@src/app/apply/page.tsx
@src/app/apply/[slug]/page.tsx
@src/components/dynamic-form/DynamicFormPage.tsx
@src/lib/constants/floors.ts
</context>

<tasks>

<task type="checkpoint:human-action" gate="blocking">
  <name>Task 1: Create Floor Lead Application form via admin UI</name>
  <action>
    The user must create the dynamic form using the existing form builder. Claude cannot access the admin UI or database directly for form creation.
  </action>
  <instructions>
    1. Navigate to https://ft-form.vercel.app/admin/forms (or localhost if running locally)
    2. Click "New Form" button
    3. Enter form details:
       - Name: "Floor Lead Application"
       - Slug: "floor-lead"
       - Description: "Apply to lead a floor initiative at Frontier Tower"

    4. Create Step 1 - Applicant Info:
       - Step Title: "Applicant Info"
       - Step Description: "Tell us about yourself"
       - Add fields:
         | ID | Type | Label | Required | Placeholder | Description |
         |-----|------|-------|----------|-------------|-------------|
         | fullName | text | Full Name | Yes | Your full name | |
         | email | email | Email | Yes | you@example.com | We'll use this to contact you about your application |
         | linkedIn | url | LinkedIn Profile | No | https://linkedin.com/in/yourprofile | |
         | role | text | Current Role | Yes | e.g., Founder at TechCo, Research Scientist | Your current professional role or title |
         | bio | textarea | Bio | Yes | Tell us about your background, expertise, and what drives you... | Tell us what makes you uniquely qualified |

    5. Create Step 2 - Your Proposal:
       - Step Title: "Your Proposal"
       - Step Description: "Tell us about your initiative"
       - Add fields:
         | ID | Type | Label | Required | Options/Placeholder | Description |
         |-----|------|-------|----------|---------------------|-------------|
         | floor | select | Which floor? | Yes | (see options below) | Select the floor for your initiative |
         | initiativeName | text | Initiative Name | Yes | e.g., The Longevity Collective | A memorable name for your floor community |
         | tagline | text | Tagline | Yes | A short, catchy description of your vision | Maximum 100 characters (set maxLength: 100) |
         | values | textarea | Core Values | Yes | What principles will guide your floor community? | What principles will guide your community? |
         | targetCommunity | textarea | Target Community | Yes | Who would be ideal members of your floor community? | Describe your ideal community members |
         | estimatedSize | select | Estimated Community Size | Yes | (see options below) | How many people do you expect to join your community? |

       Floor options (for "floor" field):
         - floor-4: Floor 4 - Robotics & Hard Tech
         - floor-5: Floor 5 - Movement Floor & Fitness Center
         - floor-6: Floor 6 - Arts & Music
         - floor-7: Floor 7 - Frontier Maker Space
         - floor-8: Floor 8 - Neuro & Biotech
         - floor-9: Floor 9 - AI & Autonomous Systems
         - floor-10: Floor 10 - Frontier @ Accelerate
         - floor-11: Floor 11 - Health & Longevity
         - floor-12: Floor 12 - Ethereum & Decentralized Tech
         - floor-13: Floor 13 - Ethereum & Decentralized Tech

       Estimated size options (for "estimatedSize" field):
         - 1-10: 1-10 members
         - 11-25: 11-25 members
         - 26-50: 26-50 members
         - 51-100: 51-100 members
         - 100+: 100+ members

    6. Create Step 3 - Your Roadmap:
       - Step Title: "Your Roadmap"
       - Step Description: "Share your phased plan for building this community"
       - Add fields:
         | ID | Type | Label | Required | Placeholder | Description |
         |-----|------|-------|----------|-------------|-------------|
         | phase1Mvp | textarea | Phase 1: MVP (First 3 months) | Yes | What's the minimum viable version of your floor community? What will you launch with? | Describe your initial launch plan |
         | phase2Expansion | textarea | Phase 2: Expansion (3-6 months) | Yes | How will you grow and expand the community? What new initiatives or events will you add? | Describe your growth strategy |
         | phase3LongTerm | textarea | Phase 3: Long-term Vision (6+ months) | Yes | What's your long-term vision for this floor? How will it evolve and contribute to Frontier Tower? | Describe your long-term vision |

    7. Create Step 4 - Impact:
       - Step Title: "Impact"
       - Step Description: "How will your floor benefit the Frontier Tower community?"
       - Add fields:
         | ID | Type | Label | Required | Placeholder | Description |
         |-----|------|-------|----------|-------------|-------------|
         | benefitToFT | textarea | Benefit to Frontier Tower Members | Yes | Describe how your floor will add value to the broader Frontier Tower community... | Be specific about the value you'll create |

    8. Create Step 5 - Logistics:
       - Step Title: "Logistics"
       - Step Description: "Help us understand the practical details"
       - Add fields:
         | ID | Type | Label | Required | Placeholder | Description |
         |-----|------|-------|----------|-------------|-------------|
         | existingCommunity | textarea | Existing Community | Yes | Do you have an existing community? Describe your current network or communities you're part of. | Tell us about any existing community or network you can bring |
         | spaceNeeds | textarea | Space Requirements | Yes | What physical space do you need? Consider desks, meeting rooms, event space, specialized equipment, storage, etc. | Describe your ideal space setup and any special requirements |
         | startDate | date | Preferred Start Date | Yes | | When would you like to launch your initiative? (approximate is fine) |
         | additionalNotes | textarea | Additional Notes | No | Anything else you'd like us to know? Questions, concerns, special circumstances, or additional context. | |

    9. Update form settings:
       - Submit Button Text: "Submit Application"
       - Success Message: "Thank you for your application! We'll be in touch soon."

    10. Click "Publish" to make the form live

    11. Verify: Visit /apply/floor-lead and confirm the form loads
  </instructions>
  <resume-signal>Type "form created" when the Floor Lead Application form is published and visible at /apply/floor-lead</resume-signal>
</task>

<task type="auto">
  <name>Task 2: Update /apply route to render dynamic form</name>
  <files>src/app/apply/page.tsx</files>
  <action>
    Replace the legacy hardcoded form with the DynamicFormPage component.

    Update `/src/app/apply/page.tsx` to:
    1. Import DynamicFormPage from "@/components/dynamic-form/DynamicFormPage"
    2. Remove all legacy imports (StoreHydration, MultiStepForm, useFormStore)
    3. Render DynamicFormPage with slug="floor-lead"
    4. Keep it simple - no redirect, just render inline

    The component should be minimal:
    ```typescript
    import { DynamicFormPage } from "@/components/dynamic-form/DynamicFormPage";

    /**
     * Floor Lead Application - served via dynamic form system
     *
     * Uses the existing DynamicFormPage component with hardcoded slug.
     * Form configuration is managed via admin form builder.
     * Legacy hardcoded form replaced in Phase 16 migration.
     */
    export default function ApplyPage() {
      return <DynamicFormPage slug="floor-lead" />;
    }
    ```

    Note: Remove "use client" directive - the component is a simple wrapper that renders a client component.
  </action>
  <verify>
    - `npm run build` passes (no type errors, no broken imports)
    - File contains "DynamicFormPage" import
    - File contains `slug="floor-lead"`
    - File does NOT contain "MultiStepForm" or "StoreHydration"
  </verify>
  <done>
    /apply/page.tsx renders DynamicFormPage with slug="floor-lead", all legacy form code removed
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 3: Verify complete migration</name>
  <what-built>
    The /apply route now serves the Floor Lead Application as a dynamic form instead of the legacy hardcoded form.
  </what-built>
  <how-to-verify>
    1. Visit https://ft-form.vercel.app/apply (or localhost:3000/apply)
    2. Confirm the form loads (not "Form Not Found")
    3. Verify Welcome screen shows "Floor Lead Application"
    4. Click through all 5 steps, verifying:
       - Step 1 (Applicant Info): 5 fields present (fullName, email, linkedIn, role, bio)
       - Step 2 (Your Proposal): 6 fields present with correct floor dropdown options
       - Step 3 (Your Roadmap): 3 textarea fields for phases
       - Step 4 (Impact): 1 textarea for benefitToFT
       - Step 5 (Logistics): 4 fields including date picker
    5. Verify validation works:
       - Try to submit without required fields (should show errors)
       - Enter invalid email format (should show error)
       - Enter tagline > 100 chars (should enforce maxLength)
    6. Complete and submit a test application
    7. Verify submission appears in admin panel under "Floor Lead Application" form
  </how-to-verify>
  <resume-signal>Type "verified" if the migration is complete and working, or describe any issues found</resume-signal>
</task>

</tasks>

<verification>
## Phase 16 Verification

### Automated Checks
- [ ] Build passes: `npm run build`
- [ ] No TypeScript errors
- [ ] /apply/page.tsx imports DynamicFormPage

### Manual Checks
- [ ] Form "Floor Lead Application" exists with slug "floor-lead"
- [ ] Form is published (status: published)
- [ ] /apply renders the dynamic form
- [ ] All 19 fields present across 5 steps
- [ ] Validation works (required, email, maxLength)
- [ ] Submissions appear in admin panel
</verification>

<success_criteria>
1. Floor Lead Application form exists in the dynamic forms system with all 19 original fields
2. /apply route serves the dynamic form (not the legacy hardcoded form)
3. UX is identical: 5 steps, same field labels/descriptions/placeholders
4. Validation rules preserved: required fields, email format, tagline maxLength
5. Submissions from /apply appear in admin under "Floor Lead Application"
</success_criteria>

<output>
After completion, create `.planning/phases/16-form-migration/16-01-SUMMARY.md`
</output>
