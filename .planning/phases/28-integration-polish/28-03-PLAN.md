---
phase: 28-integration-polish
plan: 03
type: execute
wave: 2
depends_on: ["28-01"]
files_modified:
  - src/components/ai-wizard/AIFormWizard.tsx
  - src/components/ai-wizard/steps/FormTypeStep.tsx
  - src/components/ai-wizard/steps/AudienceStep.tsx
  - src/components/ai-wizard/steps/ChatStep.tsx
  - src/components/ai-wizard/steps/PreviewStep.tsx
  - src/app/admin/forms/new/ai/page.tsx
autonomous: false

must_haves:
  truths:
    - "AI wizard is usable on mobile screens (375px width)"
    - "All buttons have adequate touch targets (min 44px)"
    - "No horizontal scrolling on mobile"
    - "Text is readable without zooming"
  artifacts:
    - path: "src/components/ai-wizard/AIFormWizard.tsx"
      provides: "Mobile responsive wizard container"
      contains: "max-w"
    - path: "src/components/ai-wizard/steps/FormTypeStep.tsx"
      provides: "Mobile responsive form type selection"
      contains: "grid"
    - path: "src/components/ai-wizard/steps/ChatStep.tsx"
      provides: "Mobile responsive chat interface"
      contains: "flex-col"
  key_links:
    - from: "AIFormWizard"
      to: "all step components"
      via: "conditional rendering"
      pattern: "wizard.step ==="
---

<objective>
Ensure the AI wizard is fully usable on mobile devices.

Purpose: Satisfy requirement UX-06 (Mobile responsive for admin use) by auditing and fixing all AI wizard components for mobile.
Output: Mobile-optimized AI wizard components that work well on 375px+ screens.
</objective>

<execution_context>
@/Users/memehalis/.claude/get-shit-done/workflows/execute-plan.md
@/Users/memehalis/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/28-integration-polish/28-RESEARCH.md

@src/components/ai-wizard/AIFormWizard.tsx
@src/components/ai-wizard/steps/FormTypeStep.tsx
@src/components/ai-wizard/steps/AudienceStep.tsx
@src/components/ai-wizard/steps/ChatStep.tsx
@src/components/ai-wizard/steps/PreviewStep.tsx
@src/app/admin/forms/new/ai/page.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Audit and fix wizard container and step components</name>
  <files>
    src/components/ai-wizard/AIFormWizard.tsx
    src/components/ai-wizard/steps/FormTypeStep.tsx
    src/components/ai-wizard/steps/AudienceStep.tsx
    src/components/ai-wizard/steps/ChatStep.tsx
    src/components/ai-wizard/steps/PreviewStep.tsx
  </files>
  <action>
Audit each file for mobile responsiveness issues and apply fixes.

**Common mobile patterns to apply:**

1. **Button sizing:** Ensure all interactive buttons have minimum 44px touch target
   - Primary actions: `h-11` (44px) or larger
   - Icon buttons: `h-10 w-10` minimum

2. **Button layout:** Stack buttons on mobile, row on desktop
   - `flex flex-col gap-2 sm:flex-row sm:gap-3`
   - Full width on mobile: `w-full sm:w-auto`

3. **Grid layouts:** Responsive columns
   - Cards/options: `grid grid-cols-1 sm:grid-cols-2 gap-3`

4. **Padding:** Responsive padding
   - `p-4 sm:p-6`

5. **Text:** Readable sizes
   - Body text: `text-sm sm:text-base` where appropriate
   - Ensure no text is smaller than 14px on mobile

6. **Max-width:** Prevent content from being too wide
   - Containers: `max-w-2xl mx-auto` (already present in AIFormWizard)

**Specific checks per file:**

**AIFormWizard.tsx:**
- Card has `max-w-2xl mx-auto p-6` - consider `p-4 sm:p-6`
- Ensure WizardStepIndicator is readable on mobile

**FormTypeStep.tsx:**
- Form type cards should stack on narrow screens
- Ensure card click targets are large enough

**AudienceStep.tsx:**
- Similar to FormTypeStep - ensure cards stack and have adequate touch targets

**ChatStep.tsx:**
- Message list should scroll properly
- Input area should not overflow
- Send button should be accessible
- Ensure typing area has adequate height on mobile keyboards

**PreviewStep.tsx:**
- Preview/form toggle should be accessible
- Mobile/Desktop preview toggle buttons should be touch-friendly
- Action buttons (Regenerate, Modify, Use This Form) should stack on mobile
  </action>
  <verify>
Open Chrome DevTools, set device to iPhone SE (375px width).
Navigate through entire AI wizard flow - no horizontal scrolling, all buttons tappable.
  </verify>
  <done>
All wizard components work well on 375px+ mobile screens.
  </done>
</task>

<task type="auto">
  <name>Task 2: Fix AI page layout for mobile</name>
  <files>src/app/admin/forms/new/ai/page.tsx</files>
  <action>
Audit the AI wizard page layout for mobile responsiveness.

Check and fix:
1. Header padding: Should be responsive
2. Main content area padding: `px-4 sm:px-6`
3. API key entry card: Should not overflow on mobile
4. Any fixed widths that might cause issues

The page has three states to check:
1. API key entry - Card with input and buttons
2. AI wizard - Renders AIFormWizard component
3. (After Plan 02) CreateFormModal - Modal should be responsive

For the API key entry state:
- Card max-width is fine (`max-w-md`)
- Ensure buttons stack on mobile: `flex flex-col gap-2 sm:flex-row`
- Input should be full-width (already is)

For the wizard state:
- Container `max-w-3xl` is fine
- Padding should be `px-4 sm:px-6`

Make these adjustments where needed.
  </action>
  <verify>
Test at 375px width:
- API key entry page fits without scroll
- AI wizard fits without horizontal scroll
- All interactions work with touch
  </verify>
  <done>
AI wizard page is fully mobile responsive.
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Mobile responsive AI wizard flow</what-built>
  <how-to-verify>
1. Open http://localhost:3000/admin/forms/new/ai on mobile device (or Chrome DevTools at 375px)
2. Enter API key and continue
3. Select form type - cards should be easily tappable
4. Select audience - cards should be easily tappable
5. Type in chat - keyboard shouldn't obscure input
6. Review preview - toggle buttons accessible
7. (If Plan 02 complete) Create form - modal fits screen
8. Verify no horizontal scrolling throughout entire flow
9. Verify all buttons have adequate touch targets
  </how-to-verify>
  <resume-signal>Type "approved" to confirm mobile responsiveness, or describe issues found</resume-signal>
</task>

</tasks>

<verification>
1. TypeScript: `npx tsc --noEmit` passes
2. Desktop: Full flow works as before (no regressions)
3. Mobile (375px): Full flow works without horizontal scroll
4. Touch targets: All buttons at least 44px
</verification>

<success_criteria>
- UX-06 satisfied: AI wizard is mobile responsive for admin use
- No horizontal scrolling on mobile
- All interactive elements have adequate touch targets
- Text is readable without zooming
- Human verification confirms mobile usability
</success_criteria>

<output>
After completion, create `.planning/phases/28-integration-polish/28-03-SUMMARY.md`
</output>
