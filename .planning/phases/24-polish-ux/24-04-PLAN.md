---
phase: 24-polish-ux
plan: 04
type: execute
wave: 1
depends_on: []
files_modified:
  - src/app/admin/page.tsx
  - src/app/admin/submissions/page.tsx
autonomous: true
gap_closure: true

must_haves:
  truths:
    - "View submissions reachable within 2 clicks from dashboard"
    - "Dashboard hub displays Submissions module card"
    - "Submissions page shows all submissions without requiring Forms navigation"
  artifacts:
    - path: "src/app/admin/page.tsx"
      provides: "Submissions module card on dashboard"
      contains: "Inbox"
    - path: "src/app/admin/submissions/page.tsx"
      provides: "Dedicated submissions page"
      exports: ["default"]
  key_links:
    - from: "src/app/admin/page.tsx"
      to: "/admin/submissions"
      via: "ModuleCard href"
      pattern: 'href="/admin/submissions"'
    - from: "src/app/admin/submissions/page.tsx"
      to: "SubmissionsTable"
      via: "component import"
      pattern: "import.*SubmissionsTable"
---

<objective>
Add direct submissions access from dashboard hub

Purpose: Close UX-01 gap - view submissions currently requires 3 clicks (Dashboard → Forms → Submissions tab). This plan adds a Submissions module card that links directly to a new /admin/submissions page, achieving 2-click access.

Output: Dashboard hub with Submissions card + dedicated /admin/submissions page
</objective>

<execution_context>
@/home/memehalis/.claude/get-shit-done/workflows/execute-plan.md
@/home/memehalis/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

@src/app/admin/page.tsx
@src/components/admin/ModuleCard.tsx
@src/components/admin/SubmissionsTable.tsx
@src/components/admin/SubmissionSheet.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add Submissions module card to dashboard</name>
  <files>src/app/admin/page.tsx</files>
  <action>
Update the dashboard hub page to include a Submissions module card:

1. Import `Inbox` icon from lucide-react (add to existing icon imports)
2. Add a new ModuleCard after the Forms card:
   - icon: Inbox
   - label: "Submissions"
   - href: "/admin/submissions"
   - NOT disabled (this is an active module)

The card should appear between Forms and Members in the grid order, since it's a core feature alongside Forms.

Icon order in grid: FileText (Forms), Inbox (Submissions), Users (Members), Calendar (Events), DoorOpen (Spaces), Heart (Wellness)
  </action>
  <verify>
grep -n "Inbox" src/app/admin/page.tsx shows the import and usage
grep -n "/admin/submissions" src/app/admin/page.tsx shows the href
  </verify>
  <done>Dashboard hub displays Submissions card with Inbox icon linking to /admin/submissions</done>
</task>

<task type="auto">
  <name>Task 2: Create dedicated submissions page</name>
  <files>src/app/admin/submissions/page.tsx</files>
  <action>
Create a new page at src/app/admin/submissions/page.tsx following the pattern from src/app/admin/forms/page.tsx:

1. Server component with session verification (same pattern as forms/page.tsx)
2. Import and use:
   - cookies, redirect from next
   - Metadata from next
   - decrypt from @/lib/auth/session
   - AnimatedPage from @/components/ui/animated-page
   - SubmissionsTable from @/components/admin/SubmissionsTable
   - SubmissionSheet from @/components/admin/SubmissionSheet

3. Client wrapper needed for state management:
   - Create a "use client" wrapper component (SubmissionsPageContent) inside the same file
   - This wrapper manages selectedSubmission and submissionSheetOpen state
   - Passes onRowClick handler to SubmissionsTable
   - Renders SubmissionSheet with state

4. Page structure:
   - Header with title "Submissions" (consistent with Forms page)
   - Main content with max-w-7xl container
   - SubmissionsPageContent client wrapper

5. Metadata: title "Submissions | Frontier Tower Admin"

Pattern for client wrapper (inside same file):
```tsx
"use client";

function SubmissionsPageContent() {
  const [selectedSubmission, setSelectedSubmission] = useState<SubmissionRow | null>(null);
  const [submissionSheetOpen, setSubmissionSheetOpen] = useState(false);

  const handleSubmissionClick = (submission: SubmissionRow) => {
    setSelectedSubmission(submission);
    setSubmissionSheetOpen(true);
  };

  return (
    <>
      <SubmissionsTable onRowClick={handleSubmissionClick} />
      <SubmissionSheet
        submissionId={selectedSubmission?._id as Id<"submissions"> | null}
        open={submissionSheetOpen}
        onOpenChange={setSubmissionSheetOpen}
      />
    </>
  );
}
```
  </action>
  <verify>
Test: Navigate to /admin/submissions (should render without error)
File exists: ls src/app/admin/submissions/page.tsx
Imports verified: grep -n "SubmissionsTable" src/app/admin/submissions/page.tsx
  </verify>
  <done>Dedicated /admin/submissions page exists with SubmissionsTable and SubmissionSheet, accessible via 2 clicks from dashboard (Dashboard → Submissions card)</done>
</task>

</tasks>

<verification>
1. `npm run build` completes without errors
2. Navigate: Dashboard → Submissions card → submissions list appears
3. Click count: exactly 2 clicks to view submissions from dashboard
4. SubmissionSheet opens when clicking a row
5. All existing submissions functionality works (filters, search, export)
</verification>

<success_criteria>
- Dashboard hub shows 6 module cards (Forms, Submissions, Members, Events, Spaces, Wellness)
- Submissions card links to /admin/submissions
- /admin/submissions page renders SubmissionsTable with full functionality
- View submissions achievable in 2 clicks from dashboard hub
</success_criteria>

<output>
After completion, create `.planning/phases/24-polish-ux/24-04-SUMMARY.md`
</output>
