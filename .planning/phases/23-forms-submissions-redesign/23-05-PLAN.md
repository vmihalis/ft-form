---
phase: 23-forms-submissions-redesign
plan: 05
type: execute
wave: 3
depends_on: ["23-02", "23-04"]
files_modified:
  - src/components/admin/AdminTabs.tsx
  - src/app/admin/forms/page.tsx
autonomous: true

must_haves:
  truths:
    - "Smooth animated transition when switching between Forms and Submissions tabs"
    - "Smooth transition when navigating from forms list to form builder"
    - "Transitions feel polished without being distracting"
  artifacts:
    - path: "src/components/admin/AdminTabs.tsx"
      provides: "Tab content with animation"
      contains: "AnimatePresence"
    - path: "src/app/admin/forms/page.tsx"
      provides: "Page with smooth entrance animation"
      contains: "motion"
  key_links:
    - from: "src/components/admin/AdminTabs.tsx"
      to: "FormsList.tsx"
      via: "Renders forms tab content"
      pattern: "FormsList"
---

<objective>
Add smooth animated transitions between forms list and builder, and between tabs.

Purpose: Complete the transition animations for navigation flows (FORM-04, SUB-04).

Output: AnimatePresence-powered tab switching and page transition animations.
</objective>

<execution_context>
@/home/memehalis/.claude/get-shit-done/workflows/execute-plan.md
@/home/memehalis/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/23-forms-submissions-redesign/23-RESEARCH.md

# Key files
@src/components/admin/AdminTabs.tsx
@src/app/admin/forms/page.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add animation to AdminTabs content switching</name>
  <files>src/components/admin/AdminTabs.tsx</files>
  <action>
First read the current AdminTabs.tsx to understand its structure, then add AnimatePresence for smooth tab content transitions.

Read the file first, then apply these updates:

1. Import motion and AnimatePresence:
```typescript
import { motion, AnimatePresence } from "motion/react";
```

2. Wrap tab content in AnimatePresence with crossfade animation. The approach depends on how tabs are structured:

**If using Radix TabsContent:**
Each TabsContent component handles its own visibility. Add motion wrapper inside:

```typescript
<TabsContent value="forms" className="space-y-6">
  <motion.div
    initial={{ opacity: 0, y: 10 }}
    animate={{ opacity: 1, y: 0 }}
    exit={{ opacity: 0, y: -10 }}
    transition={{ duration: 0.2 }}
  >
    <FormsList />
  </motion.div>
</TabsContent>

<TabsContent value="submissions" className="space-y-6">
  <motion.div
    initial={{ opacity: 0, y: 10 }}
    animate={{ opacity: 1, y: 0 }}
    exit={{ opacity: 0, y: -10 }}
    transition={{ duration: 0.2 }}
  >
    {/* Submissions content */}
  </motion.div>
</TabsContent>
```

**If managing tab state manually with conditional rendering:**
```typescript
const [activeTab, setActiveTab] = useState("forms");

<AnimatePresence mode="wait">
  <motion.div
    key={activeTab}
    initial={{ opacity: 0, x: activeTab === "forms" ? -20 : 20 }}
    animate={{ opacity: 1, x: 0 }}
    exit={{ opacity: 0, x: activeTab === "forms" ? 20 : -20 }}
    transition={{ duration: 0.2 }}
  >
    {activeTab === "forms" ? <FormsList /> : <SubmissionsContent />}
  </motion.div>
</AnimatePresence>
```

3. Keep transitions subtle and fast (0.2s duration) to feel snappy, not slow.

4. The y-axis slide (10px) provides a sense of direction without being distracting.
  </action>
  <verify>
1. `npx tsc --noEmit` passes
2. Navigate to /admin and switch between tabs
3. Observe smooth crossfade/slide transition between Forms and Submissions
4. Transition feels quick and polished
  </verify>
  <done>AdminTabs has smooth animated transitions when switching tab content</done>
</task>

<task type="auto">
  <name>Task 2: Add entrance animation to forms page</name>
  <files>src/app/admin/forms/page.tsx</files>
  <action>
Read the current forms page to understand its structure, then add a smooth entrance animation.

The forms/page.tsx likely renders the form builder. Add motion wrapper for smooth page entrance.

Read the file first, then apply these updates:

1. If it's a simple page that renders a component:
```typescript
import { motion } from "motion/react";

export default function FormsPage() {
  return (
    <motion.div
      initial={{ opacity: 0, y: 20 }}
      animate={{ opacity: 1, y: 0 }}
      transition={{ duration: 0.3 }}
    >
      {/* existing content */}
    </motion.div>
  );
}
```

2. If it wraps FormBuilderWrapper or similar:
```typescript
import { motion } from "motion/react";
import { FormBuilderWrapper } from "@/components/form-builder/FormBuilderWrapper";

export default function FormsPage() {
  return (
    <motion.div
      className="space-y-6"
      initial={{ opacity: 0, y: 20 }}
      animate={{ opacity: 1, y: 0 }}
      transition={{ duration: 0.3 }}
    >
      <FormBuilderWrapper />
    </motion.div>
  );
}
```

3. The animation creates a smooth entrance when navigating from forms list to form builder.

Note: This is the /admin/forms page (forms list parent). The /admin/forms/[formId] page (individual form builder) could also benefit from similar treatment if time permits, but focus on the main list first.
  </action>
  <verify>
1. `npx tsc --noEmit` passes
2. Navigate to /admin, click on Forms tab
3. Content animates in smoothly
4. Click on a form card to open builder - observe smooth transition
  </verify>
  <done>Forms page has entrance animation for smooth navigation flow</done>
</task>

<task type="auto">
  <name>Task 3: Add animation to form builder page</name>
  <files>src/app/admin/forms/[formId]/page.tsx</files>
  <action>
Add entrance animation to the individual form builder page for complete navigation flow.

Read the file first, then add motion wrapper:

```typescript
import { motion } from "motion/react";

export default function FormBuilderPage({ params }: { params: { formId: string } }) {
  return (
    <motion.div
      initial={{ opacity: 0, y: 20 }}
      animate={{ opacity: 1, y: 0 }}
      transition={{ duration: 0.3 }}
    >
      {/* existing FormBuilderWrapper or content */}
    </motion.div>
  );
}
```

This completes the animation flow:
1. Forms list loads with staggered card animation (from Plan 02)
2. Click card → Form builder page animates in (this task)
3. Navigate back → Forms list animates back (handled by FormsGrid)
  </action>
  <verify>
1. `npx tsc --noEmit` passes
2. Navigate from forms list to individual form - smooth transition
3. Navigate back - forms list animates
  </verify>
  <done>Form builder page has entrance animation completing the navigation flow</done>
</task>

</tasks>

<verification>
1. `npx tsc --noEmit` passes with no type errors
2. Tab switching between Forms and Submissions has smooth animation
3. Navigating from dashboard to forms list is smooth
4. Navigating from forms list to form builder is smooth
5. Animations are subtle and fast (not distracting)
6. prefers-reduced-motion is respected (via MotionConfig in providers.tsx)
</verification>

<success_criteria>
- Smooth animated transitions between forms list and builder (FORM-04 complete)
- Smooth animated transitions between tabs (SUB-04 partial)
- All animations feel polished and quick
- No jarring page transitions
</success_criteria>

<output>
After completion, create `.planning/phases/23-forms-submissions-redesign/23-05-SUMMARY.md`
</output>
